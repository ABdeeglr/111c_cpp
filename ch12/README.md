# README

## 关键概念

C 提供多种管理内存的模型。除了熟悉这些模型外，还要学会如何选择不同的类别。大多数情况下，最好选择自动变量。如果要使用其他类别，应该有充分的理由。通常，使用自动变量、函数形参或返回值行函数间的通信比使用全局变量更安全。但是，保持不变的数据更适合用全局变量。

应该尽量理解静态内存、自动内存和动态分配内存的属性。尤其是要注意：静态内存的数量在编译时确定；静态数据在载入程序时会被载入内存。在程序运行时，自动变量被分配或释放，所以自动变量占用的内存也会增加和减少，但是这个过程由调用函数控制，不是自动进行的。

## 小结

内存用于存储程序中的数据，由存储期、作用域和链接表征。

存储期可以是静态的、自动的或动态分配的。如果是静态存储期，在程序开始执行时分配内存，并在程序运行时都存在。如果是自动存储期，在程序进入变量定义所在块时分配变量的内存，在程序离开块时时方内存。如果是动态分配存储期，在调用 `malloc()` 时分配内存，在调用 `free()` 函数时释放内存。

作用域决定程序的哪些部分可以访问数据。
    - 定义在所有函数之外的变量具有文件作用域，对位于该变量声明之后的所有函数可见。
    - 定义在块或作为函数形参内的变量具有块作用域，只对该块以及它包含的嵌套块可见。

链接描述定义在程序某翻译单元中的变量可被链接的程度。
具有块作用域的变量是局部变量，无链接。
具有文件作用域的变量可以是内部链接或外部链接。内部链接意味着只有其定义所在的文件才能使用该变量。外部链接意味着其他文件使用也可以使用该变量。

下面是 C 的 5 种存储类别：

1. 自动 —— 在块种布袋存储类别说明符或带 auto 存储类别说明符声明的变量。属于自动存储类别，具有自动存储期、块作用域、无联结。如果未初始化自动变量，它的值是为定义的。

2. 寄存器 —— 在块中带有 register 存储类别说明符声明的变量属于寄存器存储类别，具有自动存储期、块作用


3. 静态、无链接

4. 静态、外部链接

5. 静态、内部链接



